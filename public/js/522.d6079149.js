(globalThis["webpackChunkclinica"]=globalThis["webpackChunkclinica"]||[]).push([[522],{1189:(e,o,l)=>{"use strict";l.d(o,{A:()=>t});var a=l(5319);class t extends a.A{resource(){return"config-site"}}},5319:(e,o,l)=>{"use strict";l.d(o,{A:()=>r});var a=l(6413),t=l(726);a.K.$http=t.api;class r extends a.K{baseURL(){return"https://wifisesa.sispro.mx/api"}request(e){return this.$http.request(e)}parameterNames(){const e=super.parameterNames(),o={limit:"per_page",include:"include",filter:"filter",sort:"sort",fields:"fields",append:"append",page:"page"};return{...e,...o}}formData(){return{indices:!0}}}},4522:(e,o,l)=>{"use strict";l.r(o),l.d(o,{default:()=>_o});var a=l(2852),t=l(5124),r=l(3100),n=l(4975),s=l(1189);const i=(0,a.Lk)("div",{class:"text-h5"},"Configuración / colores",-1),c=(0,a.Lk)("div",{class:"text-body"},"Personalize el sitio web a su gusto, modificando los colores, y apartados de configuración deseados",-1),u=(0,a.Lk)("div",{class:"text-h6 q-mb-sm"}," Principales ",-1),d={class:"q-ml-md"},p={class:"row q-mt-md"},m=(0,a.Lk)("div",{class:"col-3 q-pt-sm"},[(0,a.Lk)("p",{class:"text-weight-bold"},"Color de fondo principal")],-1),b={class:"col-auto"},g={class:"row q-mt-lg"},f=(0,a.Lk)("div",{class:"col-3 q-pt-sm"},[(0,a.Lk)("p",{class:"text-weight-bold"},"Color de fondo secundario")],-1),k={class:"col-auto"},_={class:"row q-mt-lg"},v=(0,a.Lk)("div",{class:"col-3 q-pt-sm"},[(0,a.Lk)("p",{class:"text-weight-bold"},"Color fondo login")],-1),h={class:"col-auto"},y={class:"row q-mt-lg"},w=(0,a.Lk)("div",{class:"col-3 q-pt-sm"},[(0,a.Lk)("p",{class:"text-weight-bold"},"Color de texto")],-1),F={class:"col-auto"},x={class:"row q-mt-lg text-right"},V={class:"col-5 q-ml-xl"},L=(0,a.Lk)("div",{class:"text-h6 q-mb-sm"}," Botones ",-1),R={class:"q-ml-md"},q={class:"row q-mt-lg"},C=(0,a.Lk)("div",{class:"col-3 q-pt-sm"},[(0,a.Lk)("p",{class:"text-weight-bold"},"Color guardar / modificar botón")],-1),A={class:"col-auto"},U={class:"row q-mt-lg"},Q=(0,a.Lk)("div",{class:"col-3 q-pt-sm"},[(0,a.Lk)("p",{class:"text-weight-bold"},"Color letra guardar / modificar")],-1),E={class:"col-auto"},S={class:"row q-mt-lg"},K=(0,a.Lk)("div",{class:"col-3 q-pt-sm"},[(0,a.Lk)("p",{class:"text-weight-bold"},"Color cancelar / cerrar botón")],-1),P={class:"col-auto"},T={class:"row q-mt-lg"},B=(0,a.Lk)("div",{class:"col-3 q-pt-sm"},[(0,a.Lk)("p",{class:"text-weight-bold"},"Color letra cancelar / cerrar")],-1),$={class:"col-auto"},j={class:"row q-mt-lg text-right"},X={class:"col-5 q-ml-xl"},O=(0,a.Lk)("div",{class:"text-h6 q-mb-sm q-mt-md"}," Encabezado, pie de pagina y encabezado de las tablas ",-1),I={class:"q-ml-md"},N={class:"row q-mt-lg"},z=(0,a.Lk)("div",{class:"col-3 q-pt-sm"},[(0,a.Lk)("p",{class:"text-weight-bold"},"Color fondo encabezado")],-1),D={class:"col-auto"},M={class:"row q-mt-lg"},W=(0,a.Lk)("div",{class:"col-3 q-pt-sm"},[(0,a.Lk)("p",{class:"text-weight-bold"},"Color fondo pie de pagina")],-1),G={class:"col-auto"},H={class:"row q-mt-lg"},J=(0,a.Lk)("div",{class:"col-3 q-pt-sm"},[(0,a.Lk)("p",{class:"text-weight-bold"},"Color encabezado de la tabla")],-1),Y={class:"col-auto"},Z={class:"row q-mt-lg text-right"},ee={class:"col-5 q-ml-xl"},oe={__name:"Color",setup(e){const o=(0,n.n)();async function l(){const e=await new s.A({id:1}).sync(o.configuration);localStorage.configuration=JSON.stringify(e.data.data)}return(e,n)=>{const s=(0,a.g2)("q-card-section"),oe=(0,a.g2)("q-separator"),le=(0,a.g2)("q-color"),ae=(0,a.g2)("q-popup-proxy"),te=(0,a.g2)("q-avatar"),re=(0,a.g2)("q-input"),ne=(0,a.g2)("cp-accept-button");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(s,null,{default:(0,a.k6)((()=>[i,c])),_:1}),(0,a.bF)(oe),(0,a.bF)(s,{class:"q-pt-md"},{default:(0,a.k6)((()=>[u,(0,a.bF)(oe),(0,a.Lk)("div",d,[(0,a.Lk)("div",p,[m,(0,a.Lk)("div",b,[(0,a.bF)(re,{color:"black",dense:"",outlined:"",modelValue:(0,t.R1)(o).configuration.primary_color,"onUpdate:modelValue":n[1]||(n[1]=e=>(0,t.R1)(o).configuration.primary_color=e),class:"my-input"},{append:(0,a.k6)((()=>[(0,a.bF)(te,{style:(0,r.Tr)("border: 1px solid grey !important; background-color:"+(0,t.R1)(o).configuration.primary_color),"text-color":"white"},{default:(0,a.k6)((()=>[(0,a.bF)(ae,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(le,{modelValue:(0,t.R1)(o).configuration.primary_color,"onUpdate:modelValue":n[0]||(n[0]=e=>(0,t.R1)(o).configuration.primary_color=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["style"])])),_:1},8,["modelValue"])])]),(0,a.Lk)("div",g,[f,(0,a.Lk)("div",k,[(0,a.bF)(re,{dense:"",color:"black",outlined:"",modelValue:(0,t.R1)(o).configuration.secondary_color,"onUpdate:modelValue":n[3]||(n[3]=e=>(0,t.R1)(o).configuration.secondary_color=e),class:"my-input"},{append:(0,a.k6)((()=>[(0,a.bF)(te,{style:(0,r.Tr)("border: 1px solid grey !important; background-color:"+(0,t.R1)(o).configuration.secondary_color),"text-color":"white"},{default:(0,a.k6)((()=>[(0,a.bF)(ae,{class:"prueba",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(le,{modelValue:(0,t.R1)(o).configuration.secondary_color,"onUpdate:modelValue":n[2]||(n[2]=e=>(0,t.R1)(o).configuration.secondary_color=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["style"])])),_:1},8,["modelValue"])])]),(0,a.Lk)("div",_,[v,(0,a.Lk)("div",h,[(0,a.bF)(re,{dense:"",color:"black",outlined:"",modelValue:(0,t.R1)(o).configuration.background_color_login,"onUpdate:modelValue":n[5]||(n[5]=e=>(0,t.R1)(o).configuration.background_color_login=e),class:"my-input"},{append:(0,a.k6)((()=>[(0,a.bF)(te,{style:(0,r.Tr)("border: 1px solid grey !important; background-color:"+(0,t.R1)(o).configuration.background_color_login),"text-color":"white"},{default:(0,a.k6)((()=>[(0,a.bF)(ae,{class:"prueba",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(le,{modelValue:(0,t.R1)(o).configuration.background_color_login,"onUpdate:modelValue":n[4]||(n[4]=e=>(0,t.R1)(o).configuration.background_color_login=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["style"])])),_:1},8,["modelValue"])])]),(0,a.Lk)("div",y,[w,(0,a.Lk)("div",F,[(0,a.bF)(re,{dense:"",color:"black",outlined:"",modelValue:(0,t.R1)(o).configuration.text_color,"onUpdate:modelValue":n[7]||(n[7]=e=>(0,t.R1)(o).configuration.text_color=e),class:"my-input"},{append:(0,a.k6)((()=>[(0,a.bF)(te,{style:(0,r.Tr)("border: 1px solid grey !important; background-color:"+(0,t.R1)(o).configuration.text_color),"text-color":"white"},{default:(0,a.k6)((()=>[(0,a.bF)(ae,{class:"prueba",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(le,{modelValue:(0,t.R1)(o).configuration.text_color,"onUpdate:modelValue":n[6]||(n[6]=e=>(0,t.R1)(o).configuration.text_color=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["style"])])),_:1},8,["modelValue"])])]),(0,a.Lk)("div",x,[(0,a.Lk)("div",V,[(0,a.bF)(ne,{label:"Modificar","is-accept":!1,onClick:n[8]||(n[8]=e=>l())})])])]),L,(0,a.bF)(oe),(0,a.Lk)("div",R,[(0,a.Lk)("div",q,[C,(0,a.Lk)("div",A,[(0,a.bF)(re,{dense:"",color:"black",outlined:"",modelValue:(0,t.R1)(o).configuration.accept_button_color,"onUpdate:modelValue":n[10]||(n[10]=e=>(0,t.R1)(o).configuration.accept_button_color=e),class:"my-input"},{append:(0,a.k6)((()=>[(0,a.bF)(te,{style:(0,r.Tr)("border: 1px solid grey !important; background-color:"+(0,t.R1)(o).configuration.accept_button_color),"text-color":"white"},{default:(0,a.k6)((()=>[(0,a.bF)(ae,{class:"prueba",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(le,{modelValue:(0,t.R1)(o).configuration.accept_button_color,"onUpdate:modelValue":n[9]||(n[9]=e=>(0,t.R1)(o).configuration.accept_button_color=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["style"])])),_:1},8,["modelValue"])])]),(0,a.Lk)("div",U,[Q,(0,a.Lk)("div",E,[(0,a.bF)(re,{dense:"",color:"black",outlined:"",modelValue:(0,t.R1)(o).configuration.accept_button_text_color,"onUpdate:modelValue":n[12]||(n[12]=e=>(0,t.R1)(o).configuration.accept_button_text_color=e),class:"my-input"},{append:(0,a.k6)((()=>[(0,a.bF)(te,{style:(0,r.Tr)("border: 1px solid grey !important; background-color:"+(0,t.R1)(o).configuration.accept_button_text_color),"text-color":"white"},{default:(0,a.k6)((()=>[(0,a.bF)(ae,{class:"prueba",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(le,{modelValue:(0,t.R1)(o).configuration.accept_button_text_color,"onUpdate:modelValue":n[11]||(n[11]=e=>(0,t.R1)(o).configuration.accept_button_text_color=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["style"])])),_:1},8,["modelValue"])])]),(0,a.Lk)("div",S,[K,(0,a.Lk)("div",P,[(0,a.bF)(re,{dense:"",color:"black",outlined:"",modelValue:(0,t.R1)(o).configuration.cancel_button_color,"onUpdate:modelValue":n[14]||(n[14]=e=>(0,t.R1)(o).configuration.cancel_button_color=e),class:"my-input"},{append:(0,a.k6)((()=>[(0,a.bF)(te,{style:(0,r.Tr)("border: 1px solid grey !important; background-color:"+(0,t.R1)(o).configuration.cancel_button_color),"text-color":"white"},{default:(0,a.k6)((()=>[(0,a.bF)(ae,{class:"prueba",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(le,{modelValue:(0,t.R1)(o).configuration.cancel_button_color,"onUpdate:modelValue":n[13]||(n[13]=e=>(0,t.R1)(o).configuration.cancel_button_color=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["style"])])),_:1},8,["modelValue"])])]),(0,a.Lk)("div",T,[B,(0,a.Lk)("div",$,[(0,a.bF)(re,{dense:"",color:"black",outlined:"",modelValue:(0,t.R1)(o).configuration.cancel_button_text_color,"onUpdate:modelValue":n[16]||(n[16]=e=>(0,t.R1)(o).configuration.cancel_button_text_color=e),class:"my-input"},{append:(0,a.k6)((()=>[(0,a.bF)(te,{style:(0,r.Tr)("border: 1px solid grey !important; background-color:"+(0,t.R1)(o).configuration.cancel_button_text_color),"text-color":"white"},{default:(0,a.k6)((()=>[(0,a.bF)(ae,{class:"prueba",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(le,{modelValue:(0,t.R1)(o).configuration.cancel_button_text_color,"onUpdate:modelValue":n[15]||(n[15]=e=>(0,t.R1)(o).configuration.cancel_button_text_color=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["style"])])),_:1},8,["modelValue"])])]),(0,a.Lk)("div",j,[(0,a.Lk)("div",X,[(0,a.bF)(ne,{label:"Modificar",onClick:n[17]||(n[17]=e=>l())})])])]),O,(0,a.bF)(oe),(0,a.Lk)("div",I,[(0,a.Lk)("div",N,[z,(0,a.Lk)("div",D,[(0,a.bF)(re,{dense:"",color:"black",outlined:"",modelValue:(0,t.R1)(o).configuration.header_color,"onUpdate:modelValue":n[19]||(n[19]=e=>(0,t.R1)(o).configuration.header_color=e),class:"my-input"},{append:(0,a.k6)((()=>[(0,a.bF)(te,{style:(0,r.Tr)("border: 1px solid grey !important; background-color:"+(0,t.R1)(o).configuration.header_color)},{default:(0,a.k6)((()=>[(0,a.bF)(ae,{class:"prueba",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(le,{modelValue:(0,t.R1)(o).configuration.header_color,"onUpdate:modelValue":n[18]||(n[18]=e=>(0,t.R1)(o).configuration.header_color=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["style"])])),_:1},8,["modelValue"])])]),(0,a.Lk)("div",M,[W,(0,a.Lk)("div",G,[(0,a.bF)(re,{dense:"",color:"black",outlined:"",modelValue:(0,t.R1)(o).configuration.footer_color,"onUpdate:modelValue":n[21]||(n[21]=e=>(0,t.R1)(o).configuration.footer_color=e),class:"my-input"},{append:(0,a.k6)((()=>[(0,a.bF)(te,{style:(0,r.Tr)("border: 1px solid grey !important; background-color:"+(0,t.R1)(o).configuration.footer_color)},{default:(0,a.k6)((()=>[(0,a.bF)(ae,{class:"prueba",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(le,{modelValue:(0,t.R1)(o).configuration.footer_color,"onUpdate:modelValue":n[20]||(n[20]=e=>(0,t.R1)(o).configuration.footer_color=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["style"])])),_:1},8,["modelValue"])])]),(0,a.Lk)("div",H,[J,(0,a.Lk)("div",Y,[(0,a.bF)(re,{dense:"",color:"black",outlined:"",modelValue:(0,t.R1)(o).configuration.header_table_color,"onUpdate:modelValue":n[23]||(n[23]=e=>(0,t.R1)(o).configuration.header_table_color=e),class:"my-input"},{append:(0,a.k6)((()=>[(0,a.bF)(te,{style:(0,r.Tr)("border: 1px solid grey !important; background-color:"+(0,t.R1)(o).configuration.header_table_color)},{default:(0,a.k6)((()=>[(0,a.bF)(ae,{class:"prueba",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(le,{modelValue:(0,t.R1)(o).configuration.header_table_color,"onUpdate:modelValue":n[22]||(n[22]=e=>(0,t.R1)(o).configuration.header_table_color=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["style"])])),_:1},8,["modelValue"])])]),(0,a.Lk)("div",Z,[(0,a.Lk)("div",ee,[(0,a.bF)(ne,{label:"Modificar",onClick:n[24]||(n[24]=e=>l())})])])])])),_:1})],64)}}};var le=l(1656),ae=l(1177),te=l(7316),re=l(2287),ne=l(5194),se=l(8890),ie=l(1082),ce=l.n(ie);const ue=oe,de=ue;ce()(oe,"components",{QCardSection:le.A,QSeparator:ae.A,QInput:te.A,QAvatar:re.A,QPopupProxy:ne.A,QColor:se.A});l(8250),l(5993),l(8988);var pe=l(1952),me=l.n(pe),be=l(726);const ge=(0,a.Lk)("div",{class:"text-h5"},"Configuración / logos",-1),fe=(0,a.Lk)("div",{class:"text-body"},"Personalize el sitio web a su gusto, modificando los colores, y apartados de configuración deseados",-1),ke=(0,a.Lk)("div",{class:"text-center text-weight-bold"},[(0,a.Lk)("p",null,"Presione sobre la imagen para cambiar de foto del logo para el sitio web")],-1),_e={class:"justify-center text-center"},ve={key:0,fit:"fill",style:{"max-width":"192px",height:"192px"},src:me()},he=["src"],ye={__name:"Logo",setup(e){const o=(0,n.n)(),l=(0,t.KR)("https://wifisesa.sispro.mx"),r=(0,t.KR)(null),s=(0,t.KR)(null),i=(0,t.KR)(null);function c(){r.value.$el.click()}function u(){s.value=URL.createObjectURL(i.value[0]),d()}async function d(){let e=new FormData;e.append("id",1),e.append("file",i.value[0]);const{data:l}=await be.api.post("update-photo-configuration",e);localStorage.configuration=JSON.stringify(l.data),o.configuration.logo=l.data.logo}return(e,n)=>{const d=(0,a.g2)("q-card-section"),p=(0,a.g2)("q-separator"),m=(0,a.g2)("q-input"),b=(0,a.g2)("q-btn");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[ge,fe])),_:1}),(0,a.bF)(p),(0,a.bF)(d,null,{default:(0,a.k6)((()=>[ke,(0,a.Lk)("div",_e,[(0,a.bF)(m,{ref_key:"fileInput",ref:r,style:{display:"none"},modelValue:i.value,"onUpdate:modelValue":[n[0]||(n[0]=e=>i.value=e),n[1]||(n[1]=e=>u())],type:"file",label:"Standard"},null,8,["modelValue"]),(0,a.bF)(b,{flat:"",onClick:c},{default:(0,a.k6)((()=>[null==i.value&&null==(0,t.R1)(o).configuration.logo?((0,a.uX)(),(0,a.CE)("img",ve)):(0,a.Q3)("",!0),null!=i.value||null!=(0,t.R1)(o).configuration.logo?((0,a.uX)(),(0,a.CE)("img",{key:1,fit:"fill",style:{"max-width":"192px",height:"192px",width:"192px"},src:null!=i.value?s.value:null!=(0,t.R1)(o).configuration.logo?`${l.value}/${(0,t.R1)(o).configuration.logo}`:"placeholder/evidence_placeholder.png"},null,8,he)):(0,a.Q3)("",!0)])),_:1})])])),_:1})],64)}}};var we=l(4427);const Fe=ye,xe=Fe;ce()(ye,"components",{QCardSection:le.A,QSeparator:ae.A,QInput:te.A,QBtn:we.A});var Ve=l(5319);class Le extends Ve.A{resource(){return"user"}}var Re=l(4004);const qe={class:"text-h6"},Ce={class:"row q-gutter-md"},Ae={class:"col"},Ue={class:"row q-gutter-md"},Qe={class:"col"},Ee={class:"col"},Se={class:"row q-gutter-md"},Ke={class:"col"},Pe={class:"col"},Te={class:"row q-gutter-md"},Be={class:"col"},$e={class:"col"},je={__name:"Form",props:{dialog:{type:Boolean},close:{type:Function},formProps:{type:Object}},setup(e){(0,Re.A)();const o=e,l=(0,t.KR)(["root","administrador","salud"]),n=(0,t.KR)(!1),s=(0,t.KR)("Agregar usuario"),i=(0,t.KR)({id:null,name:"",first_surname:"",second_surname:"",roles:[],email:"",password:"",confirm_password:""}),c=(0,t.KR)(null);async function u(){if(await c.value.validate()){let l=!0;try{const e=await new Le(i.value);await e.save();o.close()}catch(e){l=!1}this.q.notify({message:l?"El usuario se guardó correctamente":"Hubo un problema al guardar el usuario",color:l?"positive":"negative",position:"top-right",icon:l?"check":"report_problem"})}}async function d(){for(let o=0;o<i.value.roles.length;o++)"string"!=typeof i.value.roles[o]&&(i.value.roles[o]=i.value.roles[o].name);if(await c.value.validate()){let l=!0;try{const e=await new Le(i.value);await e.save();o.close()}catch(e){l=!1}this.q.notify({message:l?"El usuario se actualizó correctamente":"Hubo un problema al actualizar el usuario",color:l?"positive":"negative",position:"top-right",icon:l?"check":"report_problem"})}}return(0,a.sV)((()=>{null!=o.formProps&&(s.value="Modificar usuario",i.value=Object.assign({},o.formProps)),n.value=o.dialog})),(o,t)=>{const p=(0,a.g2)("q-card-section"),m=(0,a.g2)("q-input"),b=(0,a.g2)("q-select"),g=(0,a.g2)("q-form"),f=(0,a.g2)("cp-cancel-button"),k=(0,a.g2)("cp-accept-button"),_=(0,a.g2)("q-card-actions"),v=(0,a.g2)("q-card"),h=(0,a.g2)("q-dialog");return(0,a.uX)(),(0,a.Wv)(h,{modelValue:n.value,"onUpdate:modelValue":t[9]||(t[9]=e=>n.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",qe,(0,r.v_)(s.value),1)])),_:1}),(0,a.bF)(p,{class:"q-pt-none"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{ref_key:"formRef",ref:c},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Ce,[(0,a.Lk)("div",Ae,[(0,a.bF)(m,{modelValue:i.value.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value.name=e),rules:[e=>e.length>0||"Escriba el nombre"],dense:"",outlined:"",label:"Nombre(s)"},null,8,["modelValue","rules"])])]),(0,a.Lk)("div",Ue,[(0,a.Lk)("div",Qe,[(0,a.bF)(m,{modelValue:i.value.first_surname,"onUpdate:modelValue":t[1]||(t[1]=e=>i.value.first_surname=e),rules:[e=>e.length>0||"Escriba el primer apellido"],dense:"",outlined:"",label:"Primer apellido"},null,8,["modelValue","rules"])]),(0,a.Lk)("div",Ee,[(0,a.bF)(m,{modelValue:i.value.second_surname,"onUpdate:modelValue":t[2]||(t[2]=e=>i.value.second_surname=e),dense:"",outlined:"",label:"Segundo apellido"},null,8,["modelValue"])])]),(0,a.Lk)("div",Se,[(0,a.Lk)("div",Ke,[(0,a.bF)(m,{modelValue:i.value.email,"onUpdate:modelValue":t[3]||(t[3]=e=>i.value.email=e),dense:"",outlined:"",label:"Correo electrónico"},null,8,["modelValue"])]),(0,a.Lk)("div",Pe,[(0,a.bF)(b,{modelValue:i.value.roles,"onUpdate:modelValue":t[4]||(t[4]=e=>i.value.roles=e),options:l.value,multiple:"","option-value":"name","option-label":"name",rules:[e=>""!=e||"Seleccione un rol"],dense:"",outlined:"",label:"Seleccione el rol"},null,8,["modelValue","options","rules"])])]),(0,a.Lk)("div",Te,[(0,a.Lk)("div",Be,[(0,a.bF)(m,{modelValue:i.value.password,"onUpdate:modelValue":t[5]||(t[5]=e=>i.value.password=e),dense:"",outlined:"",label:"Contraseña",rules:null==i.value.id?[e=>e.length>0||"Escriba la contraseña"]:[]},null,8,["modelValue","rules"])]),(0,a.Lk)("div",$e,[(0,a.bF)(m,{modelValue:i.value.confirm_password,"onUpdate:modelValue":t[6]||(t[6]=e=>i.value.confirm_password=e),dense:"",outlined:"",label:"Confirmar contraseña",rules:null==i.value.id?[e=>e==i.value.password||"Las contraseñas deben de coincidir"]:[]},null,8,["modelValue","rules"])])])])),_:1},512)])),_:1}),(0,a.bF)(_,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(f,{label:"Cancelar",onClick:t[7]||(t[7]=o=>e.close(!1))}),(0,a.bF)(k,{onClick:t[8]||(t[8]=e=>null!=i.value.id?d():u()),label:null!=i.value.id?"Actualizar":"Guardar"},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}};var Xe=l(4849),Oe=l(4483),Ie=l(8767),Ne=l(2013),ze=l(9204);const De=je,Me=De;ce()(je,"components",{QDialog:Xe.A,QCard:Oe.A,QCardSection:le.A,QForm:Ie.A,QInput:te.A,QSelect:Ne.A,QCardActions:ze.A});var We=l(5702),Ge=l.n(We);const He={methods:{showError(e){if(e.response&&200!==e.response.status){let o=Ge().get(e,"response.data.message","Server error, try again"),l="";return e.response.data.errors&&(o="<p><b>"+o+'</b></p><div style="text-align: left;">',Object.keys(e.response.data.errors).forEach((function(l,a){let t=e.response.data.errors[l];const r=function(e,o,l,a){return" #"+ ++o+" "};o+="<p>"+(Array.isArray(t)?t[0].replace(/.([0-9]+)./,r):t.replace(/.[0-9]+./,r))+"</p>"})),o+="</div>",l="swal2-html"),this.$swal({icon:"error",title:"Error",html:o,customClass:{htmlContainer:l}})}},isSuccess(e){const o=[200,201];if(e.response&&o.indexOf(e.response.status)<0||e.status&&o.indexOf(e.status)<0){if(e.response.data&&e.response.data.message)throw e;throw new Error("Server error, try again")}}}};var Je=l(7846),Ye=l.n(Je);const Ze={methods:{sortCustom(e,o,l){let a=[],t=[];return o?(l||(t=[`${o}`]),l&&(a=[`-${o}`]),e.orderBy(...t,...a)):e},applySearchFilter(e,o){return""!==o&&(e=e.where("search",o)),e},applyFilters(e,o){return Object.keys(o).filter((e=>void 0!==o[e])).forEach((l=>{e=Array.isArray(o[l])?e.whereIn(l,o[l]):e.where(l,o[l])})),e},async requestExportFile(e,o,l,a,t,r){let n="",s="";""!==this.search&&(n={"filter[search]":o});let i=this.applyFiltersExport(l);"undefined"!=typeof t&&t&&(s={sort:(r?"-":"")+t}),await this.$axios.get(e,{responseType:"blob",headers:{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},params:{include:a,...n,...i,...s}}).then((o=>{this.fileDownload(o,e.split("/")[0])})).catch((()=>{Ye().fire("Error!","Error download file","error")}))},applyFiltersExport(e){let o=[];return e&&Object.keys(e).filter((o=>void 0!==e[o])).forEach((l=>{o[`filter[${l}]`]=`${e[l]}`})),o},fileDownload(e,o){let l=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=l,a.setAttribute("download",`${o}_${(new Date).getTime()}.xlsx`),document.body.appendChild(a),a.click()},async requestImportFile(e,o){let l=new FormData;l.append("import_file",o),await this.$axios.post(e,l).then((e=>{Ye().fire("File uploaded!","","success")})).catch((({response:e})=>{let o="";if(e.data.errors){let l=e.data.errors;l.min_unit&&(o+=l.min_unit+"<br>"),l.max_unit&&(o+=l.max_unit+"<br>"),l.max&&(o+=l.max+"<br>"),l.min&&(o+=l.min+"<br>"),l.rate&&(o+=l.rate+"<br>")}Ye().fire("Error!",o,"error")}))}}},eo=(0,a.Lk)("div",{class:"text-h5"},"Configuración / usuarios",-1),oo=(0,a.Lk)("div",{class:"text-body"},"Gestione a los usuarios del sistema tanto agregar, editar o eliminar con su respectivo rol ",-1),lo={class:"text-right"},ao={__name:"User",setup(e){const o=(0,t.KR)([{name:"name",required:!0,label:"Nombre(s)",align:"left",field:e=>e.name},{name:"first_surname",align:"center",label:"Primer apellido",field:"first_surname",sortable:!0},{name:"second_surname",label:"Segundo apellido",field:"second_surname",sortable:!0},{name:"roles",label:"Roles",field:"roles",sortable:!0},{name:"actions",label:"Acciones",field:"actions",sortable:!0}]),l=(0,t.KR)(null),n=(0,t.KR)(!1),s=(0,t.KR)([]),i=(0,t.KR)(null);function c(e,o=null){n.value=e,l.value=o,e||u()}async function u(){const{page:e,rowsPerPage:o}=i.value.pagination,l=0===o?i.value.pagination.rowsNumber:o;let a=(new Le).page(e).limit(l).include(["roles"]);const t=await a.get();s.value=t.data,i.value.pagination.rowsPerPage=parseInt(t.per_page),i.value.pagination.rowsNumber=t.total,i.value.lastPage=t.last_page}async function d(e){const{page:o,rowsPerPage:l,sortBy:a,descending:t}=e.pagination,r=e.filter,n=0===l?i.value.pagination.rowsNumber:l;let c=(new Le).page(o).limit(n).include(["roles"]);c=Ze.methods.applySearchFilter(c,r);const u=await c.get();s.value=u.data,i.value.pagination.rowsNumber=u.total,i.value.pagination.page=o,i.value.pagination.rowsPerPage=l,i.value.pagination.sortBy=a,i.value.pagination.descending=t}async function p(e){let o=await Swal({title:"¿Está seguro de eliminar el usuario?",showDenyButton:!0,icon:"info",confirmButtonText:"Eliminar",denyButtonText:"Cerrar",reverseButtons:!0,confirmButtonColor:"#eb702e",denyButtonColor:"#808080"});if(o.isDenied)return;const l=await Le.find(e);l.delete().then((async e=>{await Swal({title:"El usuario se eliminó correctamente",icon:"success"}),u()})).catch(He.showError)}return(0,a.sV)((()=>{u()})),(e,t)=>{const u=(0,a.g2)("q-card-section"),m=(0,a.g2)("q-icon"),b=(0,a.g2)("cp-accept-button"),g=(0,a.g2)("q-btn"),f=(0,a.g2)("cp-table");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[eo,oo])),_:1}),(0,a.Lk)("div",lo,[(0,a.bF)(b,{class:"q-mb-md",onClick:t[0]||(t[0]=e=>c(!0))},{icon:(0,a.k6)((()=>[(0,a.bF)(m,{name:"add"})])),_:1})]),(0,a.bF)(f,{ref_key:"table",ref:i,request:d,label:"Usuarios",columns:o.value,rows:s.value,bordered:""},{actions:(0,a.k6)((({row:e})=>[(0,a.bF)(g,{flat:"",color:"blue"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{name:"edit",onClick:o=>c(!0,e)},null,8,["onClick"])])),_:2},1024),(0,a.bF)(g,{flat:"",color:"red",onClick:o=>p(e.id)},{default:(0,a.k6)((()=>[(0,a.bF)(m,{name:"delete"})])),_:2},1032,["onClick"])])),roles:(0,a.k6)((({row:e})=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.roles,((o,l)=>((0,a.uX)(),(0,a.CE)("label",{key:l},[1==e.roles.length||0==l?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,r.v_)(o.name),1)],64)):(0,a.Q3)("",!0),0!=l?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)(" , "+(0,r.v_)(o.name),1)],64)):(0,a.Q3)("",!0)])))),128))])),_:1},8,["columns","rows"]),n.value?((0,a.uX)(),(0,a.Wv)(Me,{key:0,dialog:n.value,"form-props":l.value,close:c},null,8,["dialog","form-props"])):(0,a.Q3)("",!0)],64)}}};var to=l(8219);const ro=ao,no=ro;ce()(ao,"components",{QCardSection:le.A,QIcon:to.A,QBtn:we.A});const so={class:"row d-flex justify-center"},io={class:"col-7"},co={__name:"Index",setup(e){const o=(0,t.KR)("users");return(e,l)=>{const t=(0,a.g2)("q-tab"),r=(0,a.g2)("q-tabs"),n=(0,a.g2)("q-tab-panel"),s=(0,a.g2)("q-tab-panels"),i=(0,a.g2)("cp-card"),c=(0,a.g2)("q-layout");return(0,a.uX)(),(0,a.Wv)(c,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",so,[(0,a.Lk)("div",io,[(0,a.bF)(i,null,{"q-card-section":(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),"active-bg-color":"green-13","inline-label":"",dense:"",align:"justify"},{default:(0,a.k6)((()=>[(0,a.bF)(t,{name:"users",icon:"person",label:"Usuarios"}),(0,a.bF)(t,{name:"colors",icon:"palette",label:"Colores"}),(0,a.bF)(t,{name:"logos",icon:"image",label:"Logos"})])),_:1},8,["modelValue"]),(0,a.bF)(s,{modelValue:o.value,"onUpdate:modelValue":l[1]||(l[1]=e=>o.value=e),animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:(0,a.k6)((()=>[(0,a.bF)(n,{name:"colors"},{default:(0,a.k6)((()=>[(0,a.bF)(de)])),_:1}),(0,a.bF)(n,{name:"logos"},{default:(0,a.k6)((()=>[(0,a.bF)(xe)])),_:1}),(0,a.bF)(n,{name:"users"},{default:(0,a.k6)((()=>[(0,a.bF)(no)])),_:1})])),_:1},8,["modelValue"])])),_:1})])])])),_:1})}}};var uo=l(9915),po=l(2979),mo=l(5415),bo=l(3472),go=l(6565),fo=l(1056);const ko=co,_o=ko;ce()(co,"components",{QLayout:uo.A,QCardSection:le.A,QTabs:po.A,QTab:mo.A,QTabPanels:bo.A,QTabPanel:go.A,QMenu:fo.A,QColor:se.A})},1952:(e,o,l)=>{e.exports=l.p+"img/evidence_placeholder.20739530.png"}}]);